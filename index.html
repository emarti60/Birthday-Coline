<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Who knows Coline best? Edition Sunset Fever Party</title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(to top right, #ff5f6d, #ffc3a0);
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    background-size: cover;
    text-align: center;
    position: relative;
  }
  .sunset-img {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: url('sunset.png') no-repeat center center;
    background-size: cover;
    opacity: 0.3;
    z-index: -1;
  }
  .container {
    background: rgba(255, 99, 71, 0.4);
    backdrop-filter: blur(6px);
    padding: 40px;
    border-radius: 12px;
    width: 100%;
    max-width: 450px;
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
    transition: 0.3s;
    z-index: 1;
  }
  .container:hover {
    transform: scale(1.05);
  }
  h1 {
    font-size: 2.5em;
    margin-bottom: 20px;
    color: #fffcf9;
    text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.6);
  }
  p {
    font-size: 1.2em;
    color: #ffe2e2;
    margin-bottom: 20px;
    line-height: 1.5;
  }
  .btn {
    display: block;
    width: 100%;
    background: #ff6347;
    color: #fff;
    padding: 12px;
    margin: 10px 0;
    border: none;
    border-radius: 8px;
    font-size: 1.1em;
    cursor: pointer;
    transition: 0.3s;
  }
  .btn:hover {
    background: #ff8500;
    box-shadow: 0 0 15px rgba(255, 134, 0, 0.7);
  }
  input {
    width: 80%;
    padding: 12px;
    margin: 10px 0;
    border-radius: 8px;
    border: none;
    background: #ffe2e2;
    color: #333;
    font-size: 1.2em;
  }
  #result {
    font-size: 1.3em;
    font-weight: bold;
    margin-top: 20px;
    color: #fffcf9;
  }
  #next-button {
    background: #ff8500;
    border-radius: 8px;
    margin-top: 15px;
  }

  /* Responsive */
  @media screen and (max-width: 768px) {
    .container {
      width: 90%;
      padding: 20px;
    }
    h1 {
      font-size: 2em;
    }
    p {
      font-size: 1em;
    }
    .btn {
      font-size: 1em;
      padding: 10px;
    }
    input {
      width: 100%;
    }
  }
  @media screen and (max-width: 480px) {
    .container {
      width: 95%;
      padding: 10px;
    }
    h1 {
      font-size: 1.6em;
    }
    .btn {
      font-size: 0.9em;
      padding: 8px;
    }
    input {
      font-size: 1em;
    }
    .sunset-img {
      opacity: 0.5;
    }
  }
</style>
</head>
<body>

<!-- Image de fond -->
<div class="sunset-img"></div>

<!-- √âcran d'accueil -->
<div class="container" id="start-screen">
  <h1>Bienvenue √† la Sunset Fever Party! üéâ</h1>
  <p>Teste tes connaissances sur Coline et tente de remporter un prix ! Let's go ?</p>
  <p>Entre ton nom pour commencer :</p>
  <input type="text" id="playerName" placeholder="Ton nom...">
  <button class="btn" onclick="startQuiz()">Commencer</button>
</div>

<!-- √âcran du quiz -->
<div class="container" id="quiz-screen" style="display:none;">
  <h1>Quiz : Qui connait le mieux Coline ?</h1>
  <p>‚òÄÔ∏è Edition Sunset Fever Party ‚òÄÔ∏è</p>
  <div id="quiz"></div>
  <button onclick="nextQuestion()" class="btn" id="next-button" disabled>Question Suivante</button>
  <p id="result"></p>
</div>

<!-- √âcran de fin -->
<div class="container" id="end-screen" style="display:none;">
  <h1>Quiz termin√© üéâ</h1>
  <p id="final-score"></p>
  <p>‚úÖ J'ai bien enregistr√© ton score. Rendez-vous plus tard dans la soir√©e pour les r√©sultats. üçæ</p>
</div>

<!-- Script quiz -->
<script>
const questions = [
  {
    question: "Je peux mourir de d√©go√ªt si j ing√®re : ?",
    answers: [
      "Du fromage, m√™me sur une pizza !",
      "Du Get27, beaucoup trop vert !",
      "Les croutes des pizzas ! Beurk !",
      "La pur√©e liquide, il faut qu elle soit √©paisse enfin !"
    ],
    correct: "Du fromage, m√™me sur une pizza !"
  },
  {
    question: "Quand j √©tais ado j avais un scooter et :",
    answers: [
      "je me le suis jamais fait voler, toujours un antivol !",
      "Je me le suis fait voler une fois, R.I.P mon MBK",
      "je me le suis fait voler deux fois",
      "je me le suis fait voler trois fois un vrai chat noir !"
    ],
    correct: "Je me le suis fait voler une fois, R.I.P mon MBK"
  },
  {
    question: "J ai toujours eu une √¢me d artiste, c est pour √ßa qu enfant :",
    answers: [
      "Je prenais des cours de com√©die musicale, j ai m√™me fait une repr√©sentation de Marie Poppins",
      "J adore la p√¢te fimo, je publiais des tutos Youtube et je vendais mes cr√©ations sur les march√©s de no√´l",
      "Je prenais des cours de cirques, le cerceau n avait aucun secret pour moi et j ai m√™me fait une tourn√©e",
      "Je faisais du piano et j ai gagn√© quelques concours"
    ],
    correct: "J adore la p√¢te fimo, je publiais des tutos Youtube et je vendais mes cr√©ations sur les march√©s de no√´l"
  },
  {
    question: "J aime toutes les couleurs, mais celle que je pr√©f√®re c est : ",
    answers: [
      "Le bleu, surtout le marine",
      "Le marron, comme les yeux de Lorenzo",
      "Le violet, en r√©f√©rence √† la team archi et du week-end d int√©gration",
      "Le blanc, comme mon scooter vol√©"
    ],
    correct: "Le bleu, surtout le marine"
  },
  {
    question: "Mon oral de m√©moire Master 2 a √©t√© aussi laborieux que :",
    answers: [
      "Ma motivation pour aller courrir",
      "Mon PFE",
      "La r√©alisation de mes premiers ongles",
      "Mes choix parcoursup"
    ],
    correct: "Mon PFE"
  },
  {
    question: "Vous n √™tes pas sans savoir que je suis une pilote hors pair :",
    answers: [
      "J ai donc eu mon permis du premier coup, les doigts dans le nez",
      "Je l ai eu la deuxi√®me fois, le moniteur √©tait pas cool",
      "Je l ai eu la troisi√®me fois, mais avec tous les points !",
      "Le permis de conduire ? Il en faut un ?"
    ],
    correct: "Je l ai eu la troisi√®me fois, mais avec tous les points !"
  },
  {
    question: "Vous connaissez tous notre Lolo national, il y a 10ans nous nous sommes rencontr√©s :",
    answers: [
      "Sur insta, pas original le type‚Ä¶",
      "Au pont levis, gr√¢ce √† une amie",
      "Pendant un Speed Dating, tous les deux d√©sesp√©r√©s",
      "Au bal du lyc√©e, un vrai conte de f√©e"
    ],
    correct: "Au pont levis, gr√¢ce √† une amie"
  },
  {
    question: "Vous me connaissez pour mes regards tranchants, mais celui qui a eu le regard le plus noir est : ?",
    answers: [
      "Gaspard, quand il a tir√© ma chaise en pleine caf√©t√©ria",
      "Lorenzo (de la danse), simplement car il est lui et √ßa suffit",
      "Camille, et le coup de la valise oubli√©e sur le bord de la route",
      "Mes jur√©s de m√©moire, pas besoin d en dire plus"
    ],
    correct: "Gaspard, quand il a tir√© ma chaise en pleine caf√©t√©ria"
  },
  {
    question: "Je tiens ce fameux regard noir de :",
    answers: [
      "Ma m√®re, des ann√©es d entrainement sur les quais de la SNCF",
      "Ma prof de classique, il ne fallait surtout pas oublier notre tenue !",
      "Mon p√®re, tr√®s gentil mais il faut pas le chercher !",
      "De personne, c est inn√©"
    ],
    correct: "Mon p√®re, tr√®s gentil mais il faut pas le chercher !"
  },
  {
    question: "A l √©cole j √©tais plut√¥t :",
    answers: [
      "La meilleure √©l√®ve, toujours devant et que des 20/20",
      "Bonne √©l√®ve, mais j ai quand m√™me risqu√© de me faire virer du ly√ß√©e une fois‚Ä¶",
      "Des gros probl√®mes de comportement, on pensait que j allais finir en prison",
      "L √©cole ? J y allais pas"
    ],
    correct: "Bonne √©l√®ve, mais j ai quand m√™me risqu√© de me faire virer du ly√ß√©e une fois‚Ä¶"
  },
  {
    question: "Il se passe toujours des trucs fous √† mes anniversaires, mais l √©v√®nement le plus marquant a √©t√© :",
    answers: [
      "Lorsque Lorenzo a fait du Ski dans mon jardin",
      "Lorsque j ai d√©cid√© de virer une invit√©e sur le pas de la porte",
      "Lorsque Johnny Hallyday est venu en Showcase",
      "Lorsque le plan de table a cram√©"
    ],
    correct: "Lorsque j ai d√©cid√© de virer une invit√©e sur le pas de la porte"
  },
  {
    question: "L anecdote la plus inavouable sur moi est :",
    answers: [
      "J ai battu mon fr√®re lors d un concours au fusil",
      "J ai chant√© sur la sc√®ne du Z√©nith de Montpellier",
      "Lorenzo m a percut√© en voiture",
      "J ai d√©j√† oubli√© ma tenue de concours et je m en suis rendue compte juste avant de monter sur sc√®ne"
    ],
    correct: "J ai chant√© sur la sc√®ne du Z√©nith de Montpellier"
  },
  {
    question: "Si j √©tais un animal, je serai :",
    answers: [
      "Un Calao, tr√®s protectrice et sociable",
      "Un escargot, il faut pas trop me brusquer",
      "Une abeille, toujours organis√©e et travailleuse",
      "Un furet, solitaire et tout le temps pleine d id√©es, il faudrait que je me recentre parfois."
    ],
    correct: "Une abeille, toujours organis√©e et travailleuse"
  },
  {
    question: "Mon signe astrologique en dit beaucoup sur moi, je suis :",
    answers: [
      "Capricorne, ambitieuse et responsable mais exigeante et travailleuse",
      "Scorpion, passionn√©e et d√©termin√©e mais rancuni√®re et obsessionnelle",
      "Balance, diplomate et sociable mais ind√©cise et d√©pendante",
      "Vierge, organis√©e et analytique mais, ind√©cise et critique"
    ],
    correct: "Vierge, organis√©e et analytique mais, ind√©cise et critique"
  },
  {
    question: "Je suis tr√®s maladroite mais ma derni√®re plus grosse chute date :",
    answers: [
      "De la semaine derni√®re quand je suis tomb√©e dans la piscine",
      "De quand j √©tais petite, sur une balan√ßoire avec ma cousine",
      "D il y a quelques ann√©es, quand je suis tomb√©e du toit",
      "D il y a quelques mois, √† la danse apr√®s un saut lorsque je faisais mon solo"
    ],
    correct: "D il y a quelques mois, √† la danse apr√®s un saut lorsque je faisais mon solo"
  }
];

let currentQuestionIndex = 0;
let score = 0;
let playerName = '';

function startQuiz() {
  playerName = document.getElementById('playerName').value.trim();
  if (!playerName) {
    alert('Tu as oubli√© de rentrer ton nom !');
    return;
  }
  document.getElementById('start-screen').style.display = 'none';
  document.getElementById('quiz-screen').style.display = 'block';
  loadQuestion();
}

function loadQuestion() {
  const question = questions[currentQuestionIndex];
  let quizHtml = `<p><strong>${question.question}</strong></p>`;
  question.answers.forEach(answer => {
    quizHtml += `<button class="btn" onclick="checkAnswer('${answer.replace(/'/g, "\\'")}')">${answer}</button>`;
  });
  document.getElementById('quiz').innerHTML = quizHtml;
  document.getElementById('next-button').disabled = true;
  document.getElementById('result').textContent = '';
}

function checkAnswer(answer) {
  const question = questions[currentQuestionIndex];
  const resultText = document.getElementById('result');
  const nextButton = document.getElementById('next-button');
  const correctAnswer = question.correct;

  if (answer === correctAnswer) {
    resultText.textContent = 'Bonne r√©ponse! ‚úÖ';
    score++;
  } else {
    resultText.textContent = 'Mauvaise r√©ponse üòì';
  }
  // D√©sactiver tous les boutons de r√©ponse
  const buttons = document.querySelectorAll('#quiz .btn');
  buttons.forEach(button => button.disabled = true);

  nextButton.disabled = false;
}

function nextQuestion() {
  currentQuestionIndex++;
  if (currentQuestionIndex < questions.length) {
    loadQuestion();
  } else {
    endQuiz();
  }
}
function handleResponse(response) {
  console.log("R√©ponse re√ßue :", response);
  alert(response.message);
}
function envoyerResultatJSONP(nom, score) {
  const callbackName = 'handleResponse';

  window[callbackName] = function(response) {
    console.log("R√©ponse du serveur :", response);
    if (response.result === "success") {
      console.log("Score envoy√© avec succ√®s !");
    } else {
      console.error("Erreur d'envoi :", response.message);
    }
    // Nettoyage
    delete window[callbackName];
    script.remove();
  };

  const script = document.createElement('script');
  const url = `https://script.google.com/macros/s/AKfycbzornCxtNWJJ0SdT1KrwtOFWwj3RRUGeofRbHGTkZK-_SWvGNBVdNW6tqvDlIDo4Pgm/exec?nom=${encodeURIComponent(nom)}&score=${encodeURIComponent(score)}&callback=${callbackName}`;
  script.src = url;
  document.body.appendChild(script);
}

function endQuiz() {
  document.getElementById('quiz-screen').style.display = 'none';
  document.getElementById('end-screen').style.display = 'block';
  document.getElementById('final-score').textContent = `${playerName}, tu as obtenu ${score} bonne(s) r√©ponse(s) sur ${questions.length} !`;
  
  // Envoie du score
  envoyerResultatJSONP(playerName, score);
}
  </script>
</body>
</html>




